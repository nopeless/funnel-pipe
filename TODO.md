Allow mapping of funnels

~~Allow pipes to be in pipe~~ (implemented)

Make tank, collector

Hash api
